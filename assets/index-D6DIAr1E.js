import{j as e,g as R,b as L,r as l,W as y,m as U,i as P,a as h}from"./index-wfZN5r5_.js";import{C as $,s as A,W as d,V as v}from"./index-DHmGBPXE.js";const p=r=>e.jsxs($,{className:A.widget_item,speed:1,width:588,height:695,viewBox:"0 0 588 695",backgroundColor:"#d1d1d1",foregroundColor:"#bfbfbf",...r,children:[e.jsx("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"541",height:"519"}),e.jsx("rect",{x:"0",y:"544",rx:"11",ry:"11",width:"541",height:"50"})]}),N="_bestSellers_jjqbe_1",I="_bestSellers_slider_jjqbe_17",M="_bestSellers_items_jjqbe_24",q="_bestSellers_items_arrow_jjqbe_57",C="_bestSellers_items_arrow_left_jjqbe_85",G="_bestSellers_items_arrow_right_jjqbe_88",i={bestSellers:N,bestSellers_slider:I,bestSellers_items:M,bestSellers_items_arrow:q,bestSellers_items_arrow_left:C,bestSellers_items_arrow_right:G},E=(r,t)=>{const m=R`
        query {
            goods {
            id
            name
            price
            imageURL
            }
        }
    `;L({url:"http://127.0.0.1:8000/ElectroStore/api/goods",method:"post",data:{query:m}}).then(c=>{r(c.data),t(!1)}).catch(()=>{r([{id:1,imageURL:"images/BestSellers_items/BestSellers_item--1.webp",caption:"Phone Cover 5.6 inches",price:95,description:"ewe1221w"},{id:2,imageURL:"images/BestSellers_items/BestSellers_item--2.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:3,imageURL:"images/BestSellers_items/BestSellers_item--3.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:4,imageURL:"images/BestSellers_items/BestSellers_item--4.webp",caption:"Phone Cover 5.6 inches",price:95,description:"ewe1221w"},{id:5,imageURL:"images/BestSellers_items/BestSellers_item--5.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:6,imageURL:"images/BestSellers_items/BestSellers_item--6.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:7,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:8,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"},{id:9,imageURL:"images/BestSellers_items/BestSellers_item--6.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:10,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:11,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"},{id:12,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:13,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"}]),t(!1)})},k=()=>{const r=l.useRef(null),[t,m]=l.useState([]),[c,g]=l.useState(!0),[b,S]=l.useState(!1);y(r,S);const[o,w]=l.useState(1),a=[],_=window.matchMedia("(max-width: 1000px)"),n=window.matchMedia("(max-width: 700px)");if(c)for(let s=0;s<8;n.matches?s+=1:_.matches?s+=2:s+=3)a.push({id:`item-${s}`,renderItem:e.jsxs("div",{className:`${i.bestSellers_items}`,children:[e.jsx(p,{}),e.jsx(p,{}),e.jsx(p,{})]})});else if(a.length==0)for(let s=0;s<t.length;n.matches?s+=1:_.matches?s+=2:s+=3)a.length<t.length&&a.push({id:`item-${t[s].id}`,renderItem:e.jsxs("div",{className:`${i.bestSellers_items}`,children:[e.jsx(d,{padding_top:90,imageHeight:500,...t[s]}),!n.matches&&t[s+1]&&e.jsx(d,{padding_top:90,imageHeight:500,...t[s+1]}),!_.matches&&t[s+2]&&e.jsx(d,{padding_top:90,imageHeight:500,...t[s+2]})]})});const{carouselFragment:B,slideToPrevItem:x,slideToNextItem:j}=U({withLoop:!0,items:a}),f=()=>{x(),w(o==1?3:o-1)},u=()=>{j(),w(o==3?1:o+1)};return l.useEffect(()=>{P()&&setTimeout(()=>{S(!0)},6e3),E(m,g)},[]),e.jsxs("div",{ref:r,className:`${i.bestSellers} ${b?"":`${h.opacity_0} ${h.loading_height}`}`,children:[e.jsx(v,{caption:"Best Sellers"}),e.jsxs("div",{className:i.bestSellers_slider,children:[e.jsx("button",{"aria-label":"Кнопка для перелистывания слайдера назад",onClick:f,className:`${i.bestSellers_items_arrow} ${i.bestSellers_items_arrow_left}`,children:e.jsx("i",{className:"fa fa-arrow-left","aria-hidden":"true"})}),B,e.jsx("button",{"aria-label":"Кнопка для перелистывания слайдера вперёд",onClick:u,className:`${i.bestSellers_items_arrow} ${i.bestSellers_items_arrow_right}`,children:e.jsx("i",{className:"fa fa-arrow-right","aria-hidden":"true"})})]})]})};export{k as default};
