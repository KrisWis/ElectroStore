import{j as e,g as j,b as L,r as l,W as y,m as U,i as P,a as h}from"./index-H6RPkqjY.js";import{C as $,s as A,W as d,V as v}from"./index-CeDHyT8B.js";const p=r=>e.jsxs($,{className:A.widget_item,speed:1,width:588,height:695,viewBox:"0 0 588 695",backgroundColor:"#d1d1d1",foregroundColor:"#bfbfbf",...r,children:[e.jsx("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"541",height:"519"}),e.jsx("rect",{x:"0",y:"544",rx:"11",ry:"11",width:"541",height:"50"})]}),N="_bestSellers_1wf7o_1",I="_bestSellers_slider_1wf7o_17",M="_bestSellers_items_1wf7o_24",C="_bestSellers_items_arrow_1wf7o_63",G="_bestSellers_items_arrow_left_1wf7o_91",E="_bestSellers_items_arrow_right_1wf7o_94",i={bestSellers:N,bestSellers_slider:I,bestSellers_items:M,bestSellers_items_arrow:C,bestSellers_items_arrow_left:G,bestSellers_items_arrow_right:E},D=(r,t)=>{const o=j`
        query {
            goods {
            id
            name
            price
            imageURL
            }
        }
    `;L({url:"http://127.0.0.1:8000/ElectroStore/api/goods",method:"post",data:{query:o}}).then(m=>{r(m.data),t(!1)}).catch(()=>{r([{id:1,imageURL:"images/BestSellers_items/BestSellers_item--1.webp",caption:"Phone Cover 5.6 inches",price:95,description:"ewe1221w"},{id:2,imageURL:"images/BestSellers_items/BestSellers_item--2.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:3,imageURL:"images/BestSellers_items/BestSellers_item--3.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:4,imageURL:"images/BestSellers_items/BestSellers_item--4.webp",caption:"Phone Cover 5.6 inches",price:95,description:"ewe1221w"},{id:5,imageURL:"images/BestSellers_items/BestSellers_item--5.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:6,imageURL:"images/BestSellers_items/BestSellers_item--6.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:7,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:8,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"},{id:9,imageURL:"images/BestSellers_items/BestSellers_item--6.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:10,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:11,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"},{id:12,imageURL:"images/BestSellers_items/BestSellers_item--7.webp",caption:"Smart Phone 128GB RAM",price:55,description:"ewe1221w"},{id:13,imageURL:"images/BestSellers_items/BestSellers_item--8.webp",caption:"22 Inch LED Display",price:65,description:"ewe1221w"}]),t(!1)})},H=()=>{const r=l.useRef(null),[t,o]=l.useState([]),[m,g]=l.useState(!0),[b,S]=l.useState(!1);y(r,S);const[a,w]=l.useState(1),c=[],_=window.matchMedia("(max-width: 1000px)"),n=window.matchMedia("(max-width: 700px)");if(m)for(let s=0;s<8;n.matches?s+=1:_.matches?s+=2:s+=3)c.push({id:`item-${s}`,renderItem:e.jsxs("div",{className:`${i.bestSellers_items}`,children:[e.jsx(p,{}),e.jsx(p,{}),e.jsx(p,{})]})});else for(let s=0;s<t.length;n.matches?s+=1:_.matches?s+=2:s+=3)c.push({id:`item-${t[s].id}`,renderItem:e.jsxs("div",{className:`${i.bestSellers_items}`,children:[e.jsx(d,{padding_top:90,imageHeight:500,...t[s]}),!_.matches&&t[s+1]&&e.jsx(d,{padding_top:90,imageHeight:500,...t[s+1]}),!n.matches&&t[s+2]&&e.jsx(d,{padding_top:90,imageHeight:500,...t[s+2]})]})});const{carouselFragment:B,slideToPrevItem:x,slideToNextItem:f}=U({withLoop:!0,items:c}),u=()=>{x(),w(a==1?3:a-1)},R=()=>{f(),w(a==3?1:a+1)};return l.useEffect(()=>{P()&&setTimeout(()=>{S(!0)},6e3),D(o,g)},[]),e.jsxs("div",{ref:r,className:`${i.bestSellers} ${b?"":`${h.opacity_0} ${h.loading_height}`}`,children:[e.jsx(v,{caption:"Best Sellers"}),e.jsxs("div",{className:i.bestSellers_slider,children:[e.jsx("button",{"aria-label":"Кнопка для перелистывания слайдера назад",onClick:u,className:`${i.bestSellers_items_arrow} ${i.bestSellers_items_arrow_left}`,children:e.jsx("i",{className:"fa fa-arrow-left","aria-hidden":"true"})}),B,e.jsx("button",{"aria-label":"Кнопка для перелистывания слайдера вперёд",onClick:R,className:`${i.bestSellers_items_arrow} ${i.bestSellers_items_arrow_right}`,children:e.jsx("i",{className:"fa fa-arrow-right","aria-hidden":"true"})})]})]})};export{H as default};
